var At=Object.defineProperty;var Ht=(e,t,l)=>t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var it=(e,t,l)=>Ht(e,typeof t!="symbol"?t+"":t,l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}})();function re(){}function Ot(e){return e()}function rt(){return Object.create(null)}function be(e){e.forEach(Ot)}function ie(e){return typeof e=="function"}function Fe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function qt(e){return Object.keys(e).length===0}function n(e,t){e.appendChild(t)}function se(e,t,l){e.insertBefore(t,l||null)}function le(e){e.parentNode&&e.parentNode.removeChild(e)}function nt(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function i(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function g(){return w(" ")}function zt(){return w("")}function D(e,t,l,a){return e.addEventListener(t,l,a),()=>e.removeEventListener(t,l,a)}function _(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function et(e){return e===""?null:+e}function Vt(e){return Array.from(e.childNodes)}function R(e,t){t=""+t,e.data!==t&&(e.data=t)}function j(e,t){e.value=t??""}function me(e,t,l){for(let a=0;a<e.options.length;a+=1){const s=e.options[a];if(s.__value===t){s.selected=!0;return}}(!l||t!==void 0)&&(e.selectedIndex=-1)}function Be(e){const t=e.querySelector(":checked");return t&&t.__value}function Ve(e,t,l){e.classList.toggle(t,!!l)}let st;function ot(e){st=e}function It(){if(!st)throw new Error("Function called outside component initialization");return st}function Ut(e){It().$$.on_mount.push(e)}function Bt(e){It().$$.on_destroy.push(e)}const $e=[],ct=[];let tt=[];const _t=[],Jt=Promise.resolve();let ft=!1;function Wt(){ft||(ft=!0,Jt.then(Dt))}function Oe(e){tt.push(e)}const ut=new Set;let xe=0;function Dt(){if(xe!==0)return;const e=st;do{try{for(;xe<$e.length;){const t=$e[xe];xe++,ot(t),Qt(t.$$)}}catch(t){throw $e.length=0,xe=0,t}for(ot(null),$e.length=0,xe=0;ct.length;)ct.pop()();for(let t=0;t<tt.length;t+=1){const l=tt[t];ut.has(l)||(ut.add(l),l())}tt.length=0}while($e.length);for(;_t.length;)_t.pop()();ft=!1,ut.clear(),ot(e)}function Qt(e){if(e.fragment!==null){e.update(),be(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Oe)}}function Rt(e){const t=[],l=[];tt.forEach(a=>e.indexOf(a)===-1?t.push(a):l.push(a)),l.forEach(a=>a()),tt=t}const at=new Set;let Je;function Gt(){Je={r:0,c:[],p:Je}}function Kt(){Je.r||be(Je.c),Je=Je.p}function Ce(e,t){e&&e.i&&(at.delete(e),e.i(t))}function Le(e,t,l,a){if(e&&e.o){if(at.has(e))return;at.add(e),Je.c.push(()=>{at.delete(e),a&&(l&&e.d(1),a())}),e.o(t)}else a&&a()}function ve(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ue(e){e&&e.c()}function De(e,t,l){const{fragment:a,after_update:s}=e.$$;a&&a.m(t,l),Oe(()=>{const o=e.$$.on_mount.map(Ot).filter(ie);e.$$.on_destroy?e.$$.on_destroy.push(...o):be(o),e.$$.on_mount=[]}),s.forEach(Oe)}function je(e,t){const l=e.$$;l.fragment!==null&&(Rt(l.after_update),be(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Xt(e,t){e.$$.dirty[0]===-1&&($e.push(e),Wt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ae(e,t,l,a,s,o,f=null,d=[-1]){const b=st;ot(e);const c=e.$$={fragment:null,ctx:[],props:o,update:re,not_equal:s,bound:rt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(b?b.$$.context:[])),callbacks:rt(),dirty:d,skip_bound:!1,root:t.target||b.$$.root};f&&f(c.root);let h=!1;if(c.ctx=l?l(e,t.props||{},(p,S,...v)=>{const P=v.length?v[0]:S;return c.ctx&&s(c.ctx[p],c.ctx[p]=P)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](P),h&&Xt(e,p)),S}):[],c.update(),h=!0,be(c.before_update),c.fragment=a?a(c.ctx):!1,t.target){if(t.hydrate){const p=Vt(t.target);c.fragment&&c.fragment.l(p),p.forEach(le)}else c.fragment&&c.fragment.c();t.intro&&Ce(e.$$.fragment),De(e,t.target,t.anchor),Dt()}ot(b)}class He{constructor(){it(this,"$$");it(this,"$$set")}$destroy(){je(this,1),this.$destroy=re}$on(t,l){if(!ie(l))return re;const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(l),()=>{const s=a.indexOf(l);s!==-1&&a.splice(s,1)}}$set(t){this.$$set&&!qt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Yt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Yt);const Zt="http://localhost:8080";async function Te(e,t={}){const{method:l="GET",body:a,token:s,params:o}=t,f=new URL(`${Zt}${e}`);o&&Object.entries(o).forEach(([h,p])=>{p!=null&&p!==""&&f.searchParams.set(h,String(p))});const d={"Content-Type":"application/json"};s&&(d.Authorization=`Bearer ${s}`);const b=await fetch(f,{method:l,headers:d,body:a?JSON.stringify(a):void 0}),c=await b.json().catch(()=>null);if(!b.ok)throw new Error((c==null?void 0:c.message)||b.statusText);if(c&&c.code&&c.code!==200)throw new Error(c.message||"è¯·æ±‚å¤±è´¥");return(c==null?void 0:c.data)??c}function dt(e){let t,l,a,s,o,f,d,b,c,h,p,S,v,P,r,u,y,N,B,T,m,C,I,q,L,J,O,W,x,G,V;return{c(){t=i("nav"),l=i("button"),l.innerHTML='<span class="menu-icon">ğŸ—„ï¸</span> <span class="menu-text">æ•°æ®åº“è¿æ¥</span>',a=g(),s=i("button"),s.innerHTML='<span class="menu-icon">ğŸ”„</span> <span class="menu-text">åŒæ­¥ä»»åŠ¡</span>',o=g(),f=i("button"),f.innerHTML='<span class="menu-icon">ğŸ“œ</span> <span class="menu-text">åŒæ­¥æ—¥å¿—</span>',d=g(),b=i("div"),c=i("div"),c.textContent="æ¦‚è§ˆ",h=g(),p=i("div"),S=i("span"),S.textContent="è¿æ¥",v=g(),P=i("strong"),r=w(e[3]),u=g(),y=i("div"),N=i("span"),N.textContent="ä»»åŠ¡",B=g(),T=i("strong"),m=w(e[4]),C=g(),I=i("div"),q=i("span"),q.textContent="æ—¥å¿—",L=g(),J=i("strong"),O=w(e[5]),W=g(),x=i("button"),x.textContent="é€€å‡ºç™»å½•",Ve(l,"active",e[1]==="connections"),Ve(s,"active",e[1]==="tasks"),Ve(f,"active",e[1]==="logs"),_(t,"class","menu"),_(c,"class","side-title"),_(p,"class","side-stat"),_(y,"class","side-stat"),_(I,"class","side-stat"),_(b,"class","side-card"),_(x,"class","outline full")},m(Q,F){se(Q,t,F),n(t,l),n(t,a),n(t,s),n(t,o),n(t,f),se(Q,d,F),se(Q,b,F),n(b,c),n(b,h),n(b,p),n(p,S),n(p,v),n(p,P),n(P,r),n(b,u),n(b,y),n(y,N),n(y,B),n(y,T),n(T,m),n(b,C),n(b,I),n(I,q),n(I,L),n(I,J),n(J,O),se(Q,W,F),se(Q,x,F),G||(V=[D(l,"click",e[9]),D(s,"click",e[10]),D(f,"click",e[11]),D(x,"click",function(){ie(e[8])&&e[8].apply(this,arguments)})],G=!0)},p(Q,F){e=Q,F&2&&Ve(l,"active",e[1]==="connections"),F&2&&Ve(s,"active",e[1]==="tasks"),F&2&&Ve(f,"active",e[1]==="logs"),F&8&&R(r,e[3]),F&16&&R(m,e[4]),F&32&&R(O,e[5])},d(Q){Q&&(le(t),le(d),le(b),le(W),le(x)),G=!1,be(V)}}}function xt(e){let t,l,a,s,o,f,d=e[6]?"â®":"â®œ",b,c,h,p,S,v,P=e[0]&&dt(e);return{c(){t=i("aside"),l=i("div"),a=i("div"),s=i("div"),s.textContent="APIWong",o=g(),f=i("button"),b=w(d),c=g(),h=i("div"),h.textContent="åŒæ­¥ä»»åŠ¡ä¸æ•°æ®åº“ç®¡ç†",p=g(),P&&P.c(),_(s,"class","brand"),_(f,"class","ghost icon"),_(a,"class","brand-row"),_(h,"class","subtitle"),_(l,"class","brand-block"),_(t,"class","sidebar"),Ve(t,"collapsed",e[6])},m(r,u){se(r,t,u),n(t,l),n(l,a),n(a,s),n(a,o),n(a,f),n(f,b),n(l,c),n(l,h),n(t,p),P&&P.m(t,null),S||(v=D(f,"click",function(){ie(e[7])&&e[7].apply(this,arguments)}),S=!0)},p(r,[u]){e=r,u&64&&d!==(d=e[6]?"â®":"â®œ")&&R(b,d),e[0]?P?P.p(e,u):(P=dt(e),P.c(),P.m(t,null)):P&&(P.d(1),P=null),u&64&&Ve(t,"collapsed",e[6])},i:re,o:re,d(r){r&&le(t),P&&P.d(),S=!1,v()}}}function $t(e,t,l){let{token:a=""}=t,{view:s="login"}=t,{setView:o=r=>{}}=t,{connectionTotal:f=0}=t,{taskTotal:d=0}=t,{logTotal:b=0}=t,{sidebarCollapsed:c=!1}=t,{toggleSidebar:h=()=>{}}=t,{logout:p=()=>{}}=t;const S=()=>o("connections"),v=()=>o("tasks"),P=()=>o("logs");return e.$$set=r=>{"token"in r&&l(0,a=r.token),"view"in r&&l(1,s=r.view),"setView"in r&&l(2,o=r.setView),"connectionTotal"in r&&l(3,f=r.connectionTotal),"taskTotal"in r&&l(4,d=r.taskTotal),"logTotal"in r&&l(5,b=r.logTotal),"sidebarCollapsed"in r&&l(6,c=r.sidebarCollapsed),"toggleSidebar"in r&&l(7,h=r.toggleSidebar),"logout"in r&&l(8,p=r.logout)},[a,s,o,f,d,b,c,h,p,S,v,P]}class en extends He{constructor(t){super(),Ae(this,t,$t,xt,Fe,{token:0,view:1,setView:2,connectionTotal:3,taskTotal:4,logTotal:5,sidebarCollapsed:6,toggleSidebar:7,logout:8})}}function gt(e){let t;return{c(){t=i("div"),t.innerHTML='<span class="pill">åœ¨çº¿</span>',_(t,"class","top-actions")},m(l,a){se(l,t,a)},d(l){l&&le(t)}}}function tn(e){let t,l,a,s=e[0]==="connections"?"æ•°æ®åº“è¿æ¥":e[0]==="tasks"?"åŒæ­¥ä»»åŠ¡":e[0]==="logs"?"åŒæ­¥æ—¥å¿—":"ç™»å½•",o,f,d,b,c=e[1]&&gt();return{c(){t=i("div"),l=i("div"),a=i("div"),o=w(s),f=g(),d=i("div"),d.textContent="APIWong ç®¡ç†å° Â· API /api",b=g(),c&&c.c(),_(a,"class","page-title"),_(d,"class","page-subtitle"),_(l,"class","top-left"),_(t,"class","topbar")},m(h,p){se(h,t,p),n(t,l),n(l,a),n(a,o),n(l,f),n(l,d),n(t,b),c&&c.m(t,null)},p(h,[p]){p&1&&s!==(s=h[0]==="connections"?"æ•°æ®åº“è¿æ¥":h[0]==="tasks"?"åŒæ­¥ä»»åŠ¡":h[0]==="logs"?"åŒæ­¥æ—¥å¿—":"ç™»å½•")&&R(o,s),h[1]?c||(c=gt(),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i:re,o:re,d(h){h&&le(t),c&&c.d()}}}function nn(e,t,l){let{view:a="login"}=t,{token:s=""}=t;return e.$$set=o=>{"view"in o&&l(0,a=o.view),"token"in o&&l(1,s=o.token)},[a,s]}class ln extends He{constructor(t){super(),Ae(this,t,nn,tn,Fe,{view:0,token:1})}}function on(e){let t,l,a,s,o,f,d,b,c,h,p,S,v,P,r,u;return{c(){t=i("section"),l=i("div"),l.innerHTML="<div><h2>ç™»å½•ç®¡ç†å°</h2> <p>ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·è¿›å…¥ç³»ç»Ÿ</p></div>",a=g(),s=i("div"),o=i("label"),f=w(`ç”¨æˆ·å
      `),d=i("input"),b=g(),c=i("label"),h=w(`å¯†ç 
      `),p=i("input"),S=g(),v=i("div"),P=i("button"),P.textContent="ç™»å½•",_(l,"class","card-header"),_(d,"type","text"),_(p,"type","password"),_(s,"class","form-grid"),_(v,"class","actions"),_(t,"class","card login")},m(y,N){se(y,t,N),n(t,l),n(t,a),n(t,s),n(s,o),n(o,f),n(o,d),j(d,e[0].username),n(s,b),n(s,c),n(c,h),n(c,p),j(p,e[0].password),n(t,S),n(t,v),n(v,P),r||(u=[D(d,"input",e[2]),D(p,"input",e[3]),D(P,"click",function(){ie(e[1])&&e[1].apply(this,arguments)})],r=!0)},p(y,[N]){e=y,N&1&&d.value!==e[0].username&&j(d,e[0].username),N&1&&p.value!==e[0].password&&j(p,e[0].password)},i:re,o:re,d(y){y&&le(t),r=!1,be(u)}}}function sn(e,t,l){let{loginForm:a={username:"",password:""}}=t,{onLogin:s=()=>{}}=t;function o(){a.username=this.value,l(0,a)}function f(){a.password=this.value,l(0,a)}return e.$$set=d=>{"loginForm"in d&&l(0,a=d.loginForm),"onLogin"in d&&l(1,s=d.onLogin)},[a,s,o,f]}class an extends He{constructor(t){super(),Ae(this,t,sn,on,Fe,{loginForm:0,onLogin:1})}}function ht(e,t,l){const a=e.slice();return a[13]=t[l],a}function mt(e){let t,l,a=e[13].name+"",s,o,f,d=e[13].type+"",b,c,h,p=e[13].host+"",S,v,P=e[13].port+"",r,u,y,N=e[13].database+"",B,T,m,C=e[13].username+"",I,q,L,J,O=e[13].status===1?"å¯ç”¨":"ç¦ç”¨",W,x,G,V,Q,F,M,A,H,E,Y,$;function U(){return e[10](e[13])}function K(){return e[11](e[13])}function z(){return e[12](e[13])}return{c(){t=i("tr"),l=i("td"),s=w(a),o=g(),f=i("td"),b=w(d),c=g(),h=i("td"),S=w(p),v=w(":"),r=w(P),u=g(),y=i("td"),B=w(N),T=g(),m=i("td"),I=w(C),q=g(),L=i("td"),J=i("span"),W=w(O),G=g(),V=i("td"),Q=i("button"),Q.textContent="ç¼–è¾‘",F=g(),M=i("button"),M.textContent="æµ‹è¯•",A=g(),H=i("button"),H.textContent="åˆ é™¤",E=g(),_(J,"class",x=`pill ${e[13].status===1?"success":"muted"}`),_(Q,"class","ghost"),_(M,"class","ghost"),_(H,"class","danger"),_(V,"class","row-actions")},m(ue,oe){se(ue,t,oe),n(t,l),n(l,s),n(t,o),n(t,f),n(f,b),n(t,c),n(t,h),n(h,S),n(h,v),n(h,r),n(t,u),n(t,y),n(y,B),n(t,T),n(t,m),n(m,I),n(t,q),n(t,L),n(L,J),n(J,W),n(t,G),n(t,V),n(V,Q),n(V,F),n(V,M),n(V,A),n(V,H),n(t,E),Y||($=[D(Q,"click",U),D(M,"click",K),D(H,"click",z)],Y=!0)},p(ue,oe){e=ue,oe&1&&a!==(a=e[13].name+"")&&R(s,a),oe&1&&d!==(d=e[13].type+"")&&R(b,d),oe&1&&p!==(p=e[13].host+"")&&R(S,p),oe&1&&P!==(P=e[13].port+"")&&R(r,P),oe&1&&N!==(N=e[13].database+"")&&R(B,N),oe&1&&C!==(C=e[13].username+"")&&R(I,C),oe&1&&O!==(O=e[13].status===1?"å¯ç”¨":"ç¦ç”¨")&&R(W,O),oe&1&&x!==(x=`pill ${e[13].status===1?"success":"muted"}`)&&_(J,"class",x)},d(ue){ue&&le(t),Y=!1,be($)}}}function un(e){let t,l,a,s,o,f,d,b,c,h,p,S,v,P,r,u,y,N,B,T,m,C,I,q,L=Math.max(1,Math.ceil(e[3]/e[2]))+"",J,O,W,x,G,V,Q,F=ve(e[0]),M=[];for(let A=0;A<F.length;A+=1)M[A]=mt(ht(e,F,A));return{c(){t=i("section"),l=i("div"),a=i("div"),a.innerHTML="<h2>è¿æ¥åˆ—è¡¨</h2> <p>ç»´æŠ¤ç³»ç»Ÿå¯ç”¨çš„æ•°æ®åº“è¿æ¥</p>",s=g(),o=i("div"),f=i("span"),d=w("æ€»æ•° "),b=w(e[3]),c=g(),h=i("button"),h.textContent="æ–°å¢è¿æ¥",p=g(),S=i("table"),v=i("thead"),v.innerHTML="<tr><th>åç§°</th> <th>ç±»å‹</th> <th>åœ°å€</th> <th>æ•°æ®åº“</th> <th>ç”¨æˆ·</th> <th>çŠ¶æ€</th> <th>æ“ä½œ</th></tr>",P=g(),r=i("tbody");for(let A=0;A<M.length;A+=1)M[A].c();u=g(),y=i("div"),N=i("button"),B=w("ä¸Šä¸€é¡µ"),m=g(),C=i("span"),I=w(e[1]),q=w(" / "),J=w(L),O=g(),W=i("button"),x=w("ä¸‹ä¸€é¡µ"),_(f,"class","pill"),_(o,"class","header-actions"),_(l,"class","card-header"),_(S,"class","data-table"),_(N,"class","ghost"),N.disabled=T=e[1]<=1,_(W,"class","ghost"),W.disabled=G=e[1]>=Math.ceil(e[3]/e[2]),_(y,"class","pager"),_(t,"class","card")},m(A,H){se(A,t,H),n(t,l),n(l,a),n(l,s),n(l,o),n(o,f),n(f,d),n(f,b),n(o,c),n(o,h),n(t,p),n(t,S),n(S,v),n(S,P),n(S,r);for(let E=0;E<M.length;E+=1)M[E]&&M[E].m(r,null);n(t,u),n(t,y),n(y,N),n(N,B),n(y,m),n(y,C),n(C,I),n(C,q),n(C,J),n(y,O),n(y,W),n(W,x),V||(Q=[D(h,"click",function(){ie(e[6])&&e[6].apply(this,arguments)}),D(N,"click",function(){ie(e[4])&&e[4].apply(this,arguments)}),D(W,"click",function(){ie(e[5])&&e[5].apply(this,arguments)})],V=!0)},p(A,[H]){if(e=A,H&8&&R(b,e[3]),H&897){F=ve(e[0]);let E;for(E=0;E<F.length;E+=1){const Y=ht(e,F,E);M[E]?M[E].p(Y,H):(M[E]=mt(Y),M[E].c(),M[E].m(r,null))}for(;E<M.length;E+=1)M[E].d(1);M.length=F.length}H&2&&T!==(T=e[1]<=1)&&(N.disabled=T),H&2&&R(I,e[1]),H&12&&L!==(L=Math.max(1,Math.ceil(e[3]/e[2]))+"")&&R(J,L),H&14&&G!==(G=e[1]>=Math.ceil(e[3]/e[2]))&&(W.disabled=G)},i:re,o:re,d(A){A&&le(t),nt(M,A),V=!1,be(Q)}}}function fn(e,t,l){let{connections:a=[]}=t,{connectionPage:s=1}=t,{connectionPageSize:o=10}=t,{connectionTotal:f=0}=t,{onPrev:d=()=>{}}=t,{onNext:b=()=>{}}=t,{onOpenNew:c=()=>{}}=t,{onEdit:h=u=>{}}=t,{onTest:p=u=>{}}=t,{onDelete:S=u=>{}}=t;const v=u=>h(u),P=u=>p(u),r=u=>S(u);return e.$$set=u=>{"connections"in u&&l(0,a=u.connections),"connectionPage"in u&&l(1,s=u.connectionPage),"connectionPageSize"in u&&l(2,o=u.connectionPageSize),"connectionTotal"in u&&l(3,f=u.connectionTotal),"onPrev"in u&&l(4,d=u.onPrev),"onNext"in u&&l(5,b=u.onNext),"onOpenNew"in u&&l(6,c=u.onOpenNew),"onEdit"in u&&l(7,h=u.onEdit),"onTest"in u&&l(8,p=u.onTest),"onDelete"in u&&l(9,S=u.onDelete)},[a,s,o,f,d,b,c,h,p,S,v,P,r]}class rn extends He{constructor(t){super(),Ae(this,t,fn,un,Fe,{connections:0,connectionPage:1,connectionPageSize:2,connectionTotal:3,onPrev:4,onNext:5,onOpenNew:6,onEdit:7,onTest:8,onDelete:9})}}function bt(e,t,l){const a=e.slice();return a[13]=t[l],a}function pt(e){let t,l,a=e[13].name+"",s,o,f,d=e[13].source_db+"",b,c,h=e[13].source_table+"",p,S,v,P=e[13].target_db+"",r,u,y=e[13].target_table+"",N,B,T,m=e[13].sync_type==="incremental"?"å¢é‡":"å…¨é‡",C,I,q,L,J=e[13].status===1?"å¯ç”¨":"ç¦ç”¨",O,W,x,G,V=(e[13].last_run_status||"-")+"",Q,F,M,A,H,E,Y,$,U,K,z;function ue(){return e[10](e[13])}function oe(){return e[11](e[13])}function Pe(){return e[12](e[13])}return{c(){t=i("tr"),l=i("td"),s=w(a),o=g(),f=i("td"),b=w(d),c=w("."),p=w(h),S=g(),v=i("td"),r=w(P),u=w("."),N=w(y),B=g(),T=i("td"),C=w(m),I=g(),q=i("td"),L=i("span"),O=w(J),x=g(),G=i("td"),Q=w(V),F=g(),M=i("td"),A=i("button"),A.textContent="ç¼–è¾‘",H=g(),E=i("button"),E.textContent="æ‰§è¡Œ",Y=g(),$=i("button"),$.textContent="åˆ é™¤",U=g(),_(L,"class",W=`pill ${e[13].status===1?"success":"muted"}`),_(A,"class","ghost"),_(E,"class","ghost"),_($,"class","danger"),_(M,"class","row-actions")},m(ne,ae){se(ne,t,ae),n(t,l),n(l,s),n(t,o),n(t,f),n(f,b),n(f,c),n(f,p),n(t,S),n(t,v),n(v,r),n(v,u),n(v,N),n(t,B),n(t,T),n(T,C),n(t,I),n(t,q),n(q,L),n(L,O),n(t,x),n(t,G),n(G,Q),n(t,F),n(t,M),n(M,A),n(M,H),n(M,E),n(M,Y),n(M,$),n(t,U),K||(z=[D(A,"click",ue),D(E,"click",oe),D($,"click",Pe)],K=!0)},p(ne,ae){e=ne,ae&1&&a!==(a=e[13].name+"")&&R(s,a),ae&1&&d!==(d=e[13].source_db+"")&&R(b,d),ae&1&&h!==(h=e[13].source_table+"")&&R(p,h),ae&1&&P!==(P=e[13].target_db+"")&&R(r,P),ae&1&&y!==(y=e[13].target_table+"")&&R(N,y),ae&1&&m!==(m=e[13].sync_type==="incremental"?"å¢é‡":"å…¨é‡")&&R(C,m),ae&1&&J!==(J=e[13].status===1?"å¯ç”¨":"ç¦ç”¨")&&R(O,J),ae&1&&W!==(W=`pill ${e[13].status===1?"success":"muted"}`)&&_(L,"class",W),ae&1&&V!==(V=(e[13].last_run_status||"-")+"")&&R(Q,V)},d(ne){ne&&le(t),K=!1,be(z)}}}function cn(e){let t,l,a,s,o,f,d,b,c,h,p,S,v,P,r,u,y,N,B,T,m,C,I,q,L=Math.max(1,Math.ceil(e[3]/e[2]))+"",J,O,W,x,G,V,Q,F=ve(e[0]),M=[];for(let A=0;A<F.length;A+=1)M[A]=pt(bt(e,F,A));return{c(){t=i("section"),l=i("div"),a=i("div"),a.innerHTML="<h2>ä»»åŠ¡åˆ—è¡¨</h2> <p>ç®¡ç†å…¨é‡ä¸å¢é‡åŒæ­¥ä»»åŠ¡</p>",s=g(),o=i("div"),f=i("span"),d=w("æ€»æ•° "),b=w(e[3]),c=g(),h=i("button"),h.textContent="æ–°å¢ä»»åŠ¡",p=g(),S=i("table"),v=i("thead"),v.innerHTML="<tr><th>åç§°</th> <th>æºè¡¨</th> <th>ç›®æ ‡è¡¨</th> <th>ç±»å‹</th> <th>çŠ¶æ€</th> <th>æœ€è¿‘æ‰§è¡Œ</th> <th>æ“ä½œ</th></tr>",P=g(),r=i("tbody");for(let A=0;A<M.length;A+=1)M[A].c();u=g(),y=i("div"),N=i("button"),B=w("ä¸Šä¸€é¡µ"),m=g(),C=i("span"),I=w(e[1]),q=w(" / "),J=w(L),O=g(),W=i("button"),x=w("ä¸‹ä¸€é¡µ"),_(f,"class","pill"),_(o,"class","header-actions"),_(l,"class","card-header"),_(S,"class","data-table"),_(N,"class","ghost"),N.disabled=T=e[1]<=1,_(W,"class","ghost"),W.disabled=G=e[1]>=Math.ceil(e[3]/e[2]),_(y,"class","pager"),_(t,"class","card")},m(A,H){se(A,t,H),n(t,l),n(l,a),n(l,s),n(l,o),n(o,f),n(f,d),n(f,b),n(o,c),n(o,h),n(t,p),n(t,S),n(S,v),n(S,P),n(S,r);for(let E=0;E<M.length;E+=1)M[E]&&M[E].m(r,null);n(t,u),n(t,y),n(y,N),n(N,B),n(y,m),n(y,C),n(C,I),n(C,q),n(C,J),n(y,O),n(y,W),n(W,x),V||(Q=[D(h,"click",function(){ie(e[6])&&e[6].apply(this,arguments)}),D(N,"click",function(){ie(e[4])&&e[4].apply(this,arguments)}),D(W,"click",function(){ie(e[5])&&e[5].apply(this,arguments)})],V=!0)},p(A,[H]){if(e=A,H&8&&R(b,e[3]),H&897){F=ve(e[0]);let E;for(E=0;E<F.length;E+=1){const Y=bt(e,F,E);M[E]?M[E].p(Y,H):(M[E]=pt(Y),M[E].c(),M[E].m(r,null))}for(;E<M.length;E+=1)M[E].d(1);M.length=F.length}H&2&&T!==(T=e[1]<=1)&&(N.disabled=T),H&2&&R(I,e[1]),H&12&&L!==(L=Math.max(1,Math.ceil(e[3]/e[2]))+"")&&R(J,L),H&14&&G!==(G=e[1]>=Math.ceil(e[3]/e[2]))&&(W.disabled=G)},i:re,o:re,d(A){A&&le(t),nt(M,A),V=!1,be(Q)}}}function _n(e,t,l){let{tasks:a=[]}=t,{taskPage:s=1}=t,{taskPageSize:o=10}=t,{taskTotal:f=0}=t,{onPrev:d=()=>{}}=t,{onNext:b=()=>{}}=t,{onOpenNew:c=()=>{}}=t,{onEdit:h=u=>{}}=t,{onExecute:p=u=>{}}=t,{onDelete:S=u=>{}}=t;const v=u=>h(u),P=u=>p(u),r=u=>S(u);return e.$$set=u=>{"tasks"in u&&l(0,a=u.tasks),"taskPage"in u&&l(1,s=u.taskPage),"taskPageSize"in u&&l(2,o=u.taskPageSize),"taskTotal"in u&&l(3,f=u.taskTotal),"onPrev"in u&&l(4,d=u.onPrev),"onNext"in u&&l(5,b=u.onNext),"onOpenNew"in u&&l(6,c=u.onOpenNew),"onEdit"in u&&l(7,h=u.onEdit),"onExecute"in u&&l(8,p=u.onExecute),"onDelete"in u&&l(9,S=u.onDelete)},[a,s,o,f,d,b,c,h,p,S,v,P,r]}class dn extends He{constructor(t){super(),Ae(this,t,_n,cn,Fe,{tasks:0,taskPage:1,taskPageSize:2,taskTotal:3,onPrev:4,onNext:5,onOpenNew:6,onEdit:7,onExecute:8,onDelete:9})}}function vt(e,t,l){const a=e.slice();return a[10]=t[l],a}function kt(e,t,l){const a=e.slice();return a[13]=t[l],a}function wt(e){let t,l=e[13].name+"",a,s;return{c(){t=i("option"),a=w(l),t.__value=s=e[13].id,j(t,t.__value)},m(o,f){se(o,t,f),n(t,a)},p(o,f){f&2&&l!==(l=o[13].name+"")&&R(a,l),f&2&&s!==(s=o[13].id)&&(t.__value=s,j(t,t.__value))},d(o){o&&le(t)}}}function Tt(e){let t,l,a=new Date(e[10].created_at).toLocaleString()+"",s,o,f,d,b=e[10].status+"",c,h,p,S,v=(e[10].message||e[10].error_detail||"-")+"",P,r,u,y=e[10].rows_affected+"",N,B,T,m=e[10].duration+"",C,I;return{c(){t=i("tr"),l=i("td"),s=w(a),o=g(),f=i("td"),d=i("span"),c=w(b),p=g(),S=i("td"),P=w(v),r=g(),u=i("td"),N=w(y),B=g(),T=i("td"),C=w(m),I=g(),_(d,"class",h=`pill ${e[10].status==="success"?"success":e[10].status==="failed"?"danger":"muted"}`)},m(q,L){se(q,t,L),n(t,l),n(l,s),n(t,o),n(t,f),n(f,d),n(d,c),n(t,p),n(t,S),n(S,P),n(t,r),n(t,u),n(u,N),n(t,B),n(t,T),n(T,C),n(t,I)},p(q,L){L&4&&a!==(a=new Date(q[10].created_at).toLocaleString()+"")&&R(s,a),L&4&&b!==(b=q[10].status+"")&&R(c,b),L&4&&h!==(h=`pill ${q[10].status==="success"?"success":q[10].status==="failed"?"danger":"muted"}`)&&_(d,"class",h),L&4&&v!==(v=(q[10].message||q[10].error_detail||"-")+"")&&R(P,v),L&4&&y!==(y=q[10].rows_affected+"")&&R(N,y),L&4&&m!==(m=q[10].duration+"")&&R(C,m)},d(q){q&&le(t)}}}function gn(e){let t,l,a,s,o,f,d,b,c,h,p,S,v,P,r,u,y,N,B,T,m,C,I,q,L,J,O,W=Math.max(1,Math.ceil(e[5]/e[4]))+"",x,G,V,Q,F,M,A,H=ve(e[1]),E=[];for(let U=0;U<H.length;U+=1)E[U]=wt(kt(e,H,U));let Y=ve(e[2]),$=[];for(let U=0;U<Y.length;U+=1)$[U]=Tt(vt(e,Y,U));return{c(){t=i("section"),l=i("div"),l.innerHTML="<div><h2>åŒæ­¥æ—¥å¿—</h2> <p>æŸ¥çœ‹æ¯æ¬¡åŒæ­¥æ‰§è¡Œç»“æœ</p></div>",a=g(),s=i("div"),o=i("label"),f=w(`é€‰æ‹©ä»»åŠ¡
      `),d=i("select"),b=i("option"),b.textContent="è¯·é€‰æ‹©";for(let U=0;U<E.length;U+=1)E[U].c();c=g(),h=i("div"),p=i("span"),S=w("æ€»æ•° "),v=w(e[5]),P=g(),r=i("table"),u=i("thead"),u.innerHTML="<tr><th>æ—¶é—´</th> <th>çŠ¶æ€</th> <th>æ¶ˆæ¯</th> <th>å½±å“è¡Œæ•°</th> <th>è€—æ—¶(ms)</th></tr>",y=g(),N=i("tbody");for(let U=0;U<$.length;U+=1)$[U].c();B=g(),T=i("div"),m=i("button"),C=w("ä¸Šä¸€é¡µ"),q=g(),L=i("span"),J=w(e[3]),O=w(" / "),x=w(W),G=g(),V=i("button"),Q=w("ä¸‹ä¸€é¡µ"),_(l,"class","card-header"),b.__value="",j(b,b.__value),e[0]===void 0&&Oe(()=>e[9].call(d)),_(p,"class","pill"),_(h,"class","toolbar-right"),_(s,"class","toolbar"),_(r,"class","data-table"),_(m,"class","ghost"),m.disabled=I=e[3]<=1,_(V,"class","ghost"),V.disabled=F=e[3]>=Math.ceil(e[5]/e[4]),_(T,"class","pager"),_(t,"class","card")},m(U,K){se(U,t,K),n(t,l),n(t,a),n(t,s),n(s,o),n(o,f),n(o,d),n(d,b);for(let z=0;z<E.length;z+=1)E[z]&&E[z].m(d,null);me(d,e[0],!0),n(s,c),n(s,h),n(h,p),n(p,S),n(p,v),n(t,P),n(t,r),n(r,u),n(r,y),n(r,N);for(let z=0;z<$.length;z+=1)$[z]&&$[z].m(N,null);n(t,B),n(t,T),n(T,m),n(m,C),n(T,q),n(T,L),n(L,J),n(L,O),n(L,x),n(T,G),n(T,V),n(V,Q),M||(A=[D(d,"change",e[9]),D(d,"change",function(){ie(e[6])&&e[6].apply(this,arguments)}),D(m,"click",function(){ie(e[7])&&e[7].apply(this,arguments)}),D(V,"click",function(){ie(e[8])&&e[8].apply(this,arguments)})],M=!0)},p(U,[K]){if(e=U,K&2){H=ve(e[1]);let z;for(z=0;z<H.length;z+=1){const ue=kt(e,H,z);E[z]?E[z].p(ue,K):(E[z]=wt(ue),E[z].c(),E[z].m(d,null))}for(;z<E.length;z+=1)E[z].d(1);E.length=H.length}if(K&3&&me(d,e[0]),K&32&&R(v,e[5]),K&4){Y=ve(e[2]);let z;for(z=0;z<Y.length;z+=1){const ue=vt(e,Y,z);$[z]?$[z].p(ue,K):($[z]=Tt(ue),$[z].c(),$[z].m(N,null))}for(;z<$.length;z+=1)$[z].d(1);$.length=Y.length}K&8&&I!==(I=e[3]<=1)&&(m.disabled=I),K&8&&R(J,e[3]),K&48&&W!==(W=Math.max(1,Math.ceil(e[5]/e[4]))+"")&&R(x,W),K&56&&F!==(F=e[3]>=Math.ceil(e[5]/e[4]))&&(V.disabled=F)},i:re,o:re,d(U){U&&le(t),nt(E,U),nt($,U),M=!1,be(A)}}}function hn(e,t,l){let{tasks:a=[]}=t,{logTaskId:s=""}=t,{logs:o=[]}=t,{logPage:f=1}=t,{logPageSize:d=10}=t,{logTotal:b=0}=t,{onChangeTask:c=()=>{}}=t,{onPrev:h=()=>{}}=t,{onNext:p=()=>{}}=t;function S(){s=Be(this),l(0,s),l(1,a)}return e.$$set=v=>{"tasks"in v&&l(1,a=v.tasks),"logTaskId"in v&&l(0,s=v.logTaskId),"logs"in v&&l(2,o=v.logs),"logPage"in v&&l(3,f=v.logPage),"logPageSize"in v&&l(4,d=v.logPageSize),"logTotal"in v&&l(5,b=v.logTotal),"onChangeTask"in v&&l(6,c=v.onChangeTask),"onPrev"in v&&l(7,h=v.onPrev),"onNext"in v&&l(8,p=v.onNext)},[s,a,o,f,d,b,c,h,p,S]}class mn extends He{constructor(t){super(),Ae(this,t,hn,gn,Fe,{tasks:1,logTaskId:0,logs:2,logPage:3,logPageSize:4,logTotal:5,onChangeTask:6,onPrev:7,onNext:8})}}function Ct(e){let t,l,a,s,o,f,d,b=e[2]?"ç¼–è¾‘æ•°æ®åº“è¿æ¥":"æ–°å¢æ•°æ®åº“è¿æ¥",c,h,p,S,v,P,r,u,y,N,B,T,m,C,I,q,L,J,O,W,x,G,V,Q,F,M,A,H,E,Y,$,U,K,z,ue,oe,Pe,ne,ae,We,ye,Qe,ge,Re,ke,Ge,he,Ke,Se,Xe,de,Ne,pe,k,ee,ce,we,Ye,ze,Ee,qe=e[2]?"ä¿å­˜ä¿®æ”¹":"åˆ›å»ºè¿æ¥",Ze,Ie,fe,Me,_e;return{c(){t=i("div"),l=i("button"),a=g(),s=i("div"),o=i("div"),f=i("div"),d=i("h3"),c=w(b),h=g(),p=i("p"),p.textContent="ä¿å­˜åç«‹å³ç”Ÿæ•ˆ",S=g(),v=i("button"),v.textContent="âœ•",P=g(),r=i("div"),u=i("label"),y=w(`è¿æ¥å
          `),N=i("input"),B=g(),T=i("label"),m=w(`ç±»å‹
          `),C=i("select"),I=i("option"),I.textContent="MySQL",q=i("option"),q.textContent="PostgreSQL",L=i("option"),L.textContent="SQL Server",J=i("option"),J.textContent="Oracle",O=g(),W=i("label"),x=w(`ä¸»æœº
          `),G=i("input"),V=g(),Q=i("label"),F=w(`ç«¯å£
          `),M=i("input"),A=g(),H=i("label"),E=w(`æ•°æ®åº“
          `),Y=i("input"),$=g(),U=i("label"),K=w(`ç”¨æˆ·å
          `),z=i("input"),ue=g(),oe=i("label"),Pe=w(`å¯†ç 
          `),ne=i("input"),We=g(),ye=i("label"),Qe=w(`å­—ç¬¦é›†
          `),ge=i("input"),Re=g(),ke=i("label"),Ge=w(`ç©ºé—²è¿æ¥
          `),he=i("input"),Ke=g(),Se=i("label"),Xe=w(`æœ€å¤§è¿æ¥
          `),de=i("input"),Ne=g(),pe=i("label"),k=w(`çŠ¶æ€
          `),ee=i("select"),ce=i("option"),ce.textContent="å¯ç”¨",we=i("option"),we.textContent="ç¦ç”¨",Ye=g(),ze=i("div"),Ee=i("button"),Ze=w(qe),Ie=g(),fe=i("button"),fe.textContent="å–æ¶ˆ",_(l,"class","modal-backdrop"),_(l,"type","button"),_(l,"aria-label","å…³é—­"),_(v,"class","ghost icon"),_(o,"class","modal-header"),_(N,"type","text"),I.__value="mysql",j(I,I.__value),q.__value="postgres",j(q,q.__value),L.__value="sqlserver",j(L,L.__value),J.__value="oracle",j(J,J.__value),e[0].type===void 0&&Oe(()=>e[7].call(C)),_(G,"type","text"),_(M,"type","number"),_(Y,"type","text"),_(z,"type","text"),_(ne,"type","password"),_(ne,"placeholder",ae=e[2]?"ç•™ç©ºåˆ™ä¸ä¿®æ”¹":""),_(ge,"type","text"),_(he,"type","number"),_(de,"type","number"),ce.__value="1",j(ce,ce.__value),we.__value="0",j(we,we.__value),e[0].status===void 0&&Oe(()=>e[16].call(ee)),_(r,"class","form-grid"),_(fe,"class","ghost"),_(ze,"class","actions"),_(s,"class","modal"),_(s,"role","dialog"),_(s,"aria-modal","true"),_(t,"class","modal-layer")},m(te,X){se(te,t,X),n(t,l),n(t,a),n(t,s),n(s,o),n(o,f),n(f,d),n(d,c),n(f,h),n(f,p),n(o,S),n(o,v),n(s,P),n(s,r),n(r,u),n(u,y),n(u,N),j(N,e[0].name),n(r,B),n(r,T),n(T,m),n(T,C),n(C,I),n(C,q),n(C,L),n(C,J),me(C,e[0].type,!0),n(r,O),n(r,W),n(W,x),n(W,G),j(G,e[0].host),n(r,V),n(r,Q),n(Q,F),n(Q,M),j(M,e[0].port),n(r,A),n(r,H),n(H,E),n(H,Y),j(Y,e[0].database),n(r,$),n(r,U),n(U,K),n(U,z),j(z,e[0].username),n(r,ue),n(r,oe),n(oe,Pe),n(oe,ne),j(ne,e[0].password),n(r,We),n(r,ye),n(ye,Qe),n(ye,ge),j(ge,e[0].charset),n(r,Re),n(r,ke),n(ke,Ge),n(ke,he),j(he,e[0].max_idle),n(r,Ke),n(r,Se),n(Se,Xe),n(Se,de),j(de,e[0].max_open),n(r,Ne),n(r,pe),n(pe,k),n(pe,ee),n(ee,ce),n(ee,we),me(ee,e[0].status,!0),n(s,Ye),n(s,ze),n(ze,Ee),n(Ee,Ze),n(ze,Ie),n(ze,fe),Me||(_e=[D(l,"click",function(){ie(e[3])&&e[3].apply(this,arguments)}),D(v,"click",function(){ie(e[3])&&e[3].apply(this,arguments)}),D(N,"input",e[6]),D(C,"change",e[7]),D(G,"input",e[8]),D(M,"input",e[9]),D(Y,"input",e[10]),D(z,"input",e[11]),D(ne,"input",e[12]),D(ge,"input",e[13]),D(he,"input",e[14]),D(de,"input",e[15]),D(ee,"change",e[16]),D(Ee,"click",function(){ie(e[4])&&e[4].apply(this,arguments)}),D(fe,"click",function(){ie(e[3])&&e[3].apply(this,arguments)})],Me=!0)},p(te,X){e=te,X&4&&b!==(b=e[2]?"ç¼–è¾‘æ•°æ®åº“è¿æ¥":"æ–°å¢æ•°æ®åº“è¿æ¥")&&R(c,b),X&1&&N.value!==e[0].name&&j(N,e[0].name),X&1&&me(C,e[0].type),X&1&&G.value!==e[0].host&&j(G,e[0].host),X&1&&et(M.value)!==e[0].port&&j(M,e[0].port),X&1&&Y.value!==e[0].database&&j(Y,e[0].database),X&1&&z.value!==e[0].username&&j(z,e[0].username),X&4&&ae!==(ae=e[2]?"ç•™ç©ºåˆ™ä¸ä¿®æ”¹":"")&&_(ne,"placeholder",ae),X&1&&ne.value!==e[0].password&&j(ne,e[0].password),X&1&&ge.value!==e[0].charset&&j(ge,e[0].charset),X&1&&et(he.value)!==e[0].max_idle&&j(he,e[0].max_idle),X&1&&et(de.value)!==e[0].max_open&&j(de,e[0].max_open),X&1&&me(ee,e[0].status),X&4&&qe!==(qe=e[2]?"ä¿å­˜ä¿®æ”¹":"åˆ›å»ºè¿æ¥")&&R(Ze,qe)},d(te){te&&le(t),Me=!1,be(_e)}}}function bn(e){let t,l,a,s=e[1]&&Ct(e);return{c(){s&&s.c(),t=zt()},m(o,f){s&&s.m(o,f),se(o,t,f),l||(a=D(window,"keydown",e[5]),l=!0)},p(o,[f]){o[1]?s?s.p(o,f):(s=Ct(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i:re,o:re,d(o){o&&le(t),s&&s.d(o),l=!1,a()}}}function pn(e,t,l){let{open:a=!1}=t,{editing:s=!1}=t,{form:o={}}=t,{onClose:f=()=>{}}=t,{onSave:d=()=>{}}=t;const b=T=>T.key==="Escape"&&a&&f();function c(){o.name=this.value,l(0,o)}function h(){o.type=Be(this),l(0,o)}function p(){o.host=this.value,l(0,o)}function S(){o.port=et(this.value),l(0,o)}function v(){o.database=this.value,l(0,o)}function P(){o.username=this.value,l(0,o)}function r(){o.password=this.value,l(0,o)}function u(){o.charset=this.value,l(0,o)}function y(){o.max_idle=et(this.value),l(0,o)}function N(){o.max_open=et(this.value),l(0,o)}function B(){o.status=Be(this),l(0,o)}return e.$$set=T=>{"open"in T&&l(1,a=T.open),"editing"in T&&l(2,s=T.editing),"form"in T&&l(0,o=T.form),"onClose"in T&&l(3,f=T.onClose),"onSave"in T&&l(4,d=T.onSave)},[o,a,s,f,d,b,c,h,p,S,v,P,r,u,y,N,B]}class vn extends He{constructor(t){super(),Ae(this,t,pn,bn,Fe,{open:1,editing:2,form:0,onClose:3,onSave:4})}}function Pt(e,t,l){const a=e.slice();return a[17]=t[l],a}function yt(e,t,l){const a=e.slice();return a[17]=t[l],a}function St(e){let t,l,a,s,o,f,d,b=e[2]?"ç¼–è¾‘åŒæ­¥ä»»åŠ¡":"æ–°å¢åŒæ­¥ä»»åŠ¡",c,h,p,S,v,P,r,u,y,N,B,T,m,C,I,q,L,J,O,W,x,G,V,Q,F,M,A,H,E,Y,$,U,K,z,ue,oe,Pe,ne,ae,We,ye,Qe,ge,Re,ke,Ge,he,Ke,Se,Xe,de,Ne,pe,k,ee,ce,we=e[2]?"ä¿å­˜ä¿®æ”¹":"åˆ›å»ºä»»åŠ¡",Ye,ze,Ee,qe,Ze,Ie=ve(e[3]),fe=[];for(let te=0;te<Ie.length;te+=1)fe[te]=Nt(yt(e,Ie,te));let Me=ve(e[3]),_e=[];for(let te=0;te<Me.length;te+=1)_e[te]=Et(Pt(e,Me,te));return{c(){t=i("div"),l=i("button"),a=g(),s=i("div"),o=i("div"),f=i("div"),d=i("h3"),c=w(b),h=g(),p=i("p"),p.textContent="æ”¯æŒ Cron å®šæ—¶ä¸å­—æ®µæ˜ å°„",S=g(),v=i("button"),v.textContent="âœ•",P=g(),r=i("div"),u=i("label"),y=w(`ä»»åŠ¡åç§°
          `),N=i("input"),B=g(),T=i("label"),m=w(`æºåº“è¿æ¥
          `),C=i("select"),I=i("option"),I.textContent="è¯·é€‰æ‹©";for(let te=0;te<fe.length;te+=1)fe[te].c();q=g(),L=i("label"),J=w(`æºè¡¨
          `),O=i("input"),W=g(),x=i("label"),G=w(`ç›®æ ‡åº“è¿æ¥
          `),V=i("select"),Q=i("option"),Q.textContent="è¯·é€‰æ‹©";for(let te=0;te<_e.length;te+=1)_e[te].c();F=g(),M=i("label"),A=w(`ç›®æ ‡è¡¨
          `),H=i("input"),E=g(),Y=i("label"),$=w(`åŒæ­¥ç±»å‹
          `),U=i("select"),K=i("option"),K.textContent="å…¨é‡",z=i("option"),z.textContent="å¢é‡",ue=g(),oe=i("label"),Pe=w(`å¢é‡å­—æ®µ
          `),ne=i("input"),We=g(),ye=i("label"),Qe=w(`Cron è¡¨è¾¾å¼
          `),ge=i("input"),Re=g(),ke=i("label"),Ge=w(`å­—æ®µæ˜ å°„ JSON
          `),he=i("textarea"),Ke=g(),Se=i("label"),Xe=w(`çŠ¶æ€
          `),de=i("select"),Ne=i("option"),Ne.textContent="å¯ç”¨",pe=i("option"),pe.textContent="ç¦ç”¨",k=g(),ee=i("div"),ce=i("button"),Ye=w(we),ze=g(),Ee=i("button"),Ee.textContent="å–æ¶ˆ",_(l,"class","modal-backdrop"),_(l,"type","button"),_(l,"aria-label","å…³é—­"),_(v,"class","ghost icon"),_(o,"class","modal-header"),_(N,"type","text"),I.__value="",j(I,I.__value),e[0].source_db===void 0&&Oe(()=>e[8].call(C)),_(O,"type","text"),Q.__value="",j(Q,Q.__value),e[0].target_db===void 0&&Oe(()=>e[10].call(V)),_(H,"type","text"),K.__value="full",j(K,K.__value),z.__value="incremental",j(z,z.__value),e[0].sync_type===void 0&&Oe(()=>e[12].call(U)),_(ne,"type","text"),ne.disabled=ae=e[0].sync_type!=="incremental",_(ge,"type","text"),_(he,"rows","6"),_(ke,"class","full"),Ne.__value="1",j(Ne,Ne.__value),pe.__value="0",j(pe,pe.__value),e[0].status===void 0&&Oe(()=>e[16].call(de)),_(r,"class","form-grid"),_(Ee,"class","ghost"),_(ee,"class","actions"),_(s,"class","modal"),_(s,"role","dialog"),_(s,"aria-modal","true"),_(t,"class","modal-layer")},m(te,X){se(te,t,X),n(t,l),n(t,a),n(t,s),n(s,o),n(o,f),n(f,d),n(d,c),n(f,h),n(f,p),n(o,S),n(o,v),n(s,P),n(s,r),n(r,u),n(u,y),n(u,N),j(N,e[0].name),n(r,B),n(r,T),n(T,m),n(T,C),n(C,I);for(let Z=0;Z<fe.length;Z+=1)fe[Z]&&fe[Z].m(C,null);me(C,e[0].source_db,!0),n(r,q),n(r,L),n(L,J),n(L,O),j(O,e[0].source_table),n(r,W),n(r,x),n(x,G),n(x,V),n(V,Q);for(let Z=0;Z<_e.length;Z+=1)_e[Z]&&_e[Z].m(V,null);me(V,e[0].target_db,!0),n(r,F),n(r,M),n(M,A),n(M,H),j(H,e[0].target_table),n(r,E),n(r,Y),n(Y,$),n(Y,U),n(U,K),n(U,z),me(U,e[0].sync_type,!0),n(r,ue),n(r,oe),n(oe,Pe),n(oe,ne),j(ne,e[0].incremental_key),n(r,We),n(r,ye),n(ye,Qe),n(ye,ge),j(ge,e[0].cron_expression),n(r,Re),n(r,ke),n(ke,Ge),n(ke,he),j(he,e[0].field_mapping_json),n(r,Ke),n(r,Se),n(Se,Xe),n(Se,de),n(de,Ne),n(de,pe),me(de,e[0].status,!0),n(s,k),n(s,ee),n(ee,ce),n(ce,Ye),n(ee,ze),n(ee,Ee),qe||(Ze=[D(l,"click",function(){ie(e[4])&&e[4].apply(this,arguments)}),D(v,"click",function(){ie(e[4])&&e[4].apply(this,arguments)}),D(N,"input",e[7]),D(C,"change",e[8]),D(O,"input",e[9]),D(V,"change",e[10]),D(H,"input",e[11]),D(U,"change",e[12]),D(ne,"input",e[13]),D(ge,"input",e[14]),D(he,"input",e[15]),D(de,"change",e[16]),D(ce,"click",function(){ie(e[5])&&e[5].apply(this,arguments)}),D(Ee,"click",function(){ie(e[4])&&e[4].apply(this,arguments)})],qe=!0)},p(te,X){if(e=te,X&4&&b!==(b=e[2]?"ç¼–è¾‘åŒæ­¥ä»»åŠ¡":"æ–°å¢åŒæ­¥ä»»åŠ¡")&&R(c,b),X&9&&N.value!==e[0].name&&j(N,e[0].name),X&8){Ie=ve(e[3]);let Z;for(Z=0;Z<Ie.length;Z+=1){const lt=yt(e,Ie,Z);fe[Z]?fe[Z].p(lt,X):(fe[Z]=Nt(lt),fe[Z].c(),fe[Z].m(C,null))}for(;Z<fe.length;Z+=1)fe[Z].d(1);fe.length=Ie.length}if(X&9&&me(C,e[0].source_db),X&9&&O.value!==e[0].source_table&&j(O,e[0].source_table),X&8){Me=ve(e[3]);let Z;for(Z=0;Z<Me.length;Z+=1){const lt=Pt(e,Me,Z);_e[Z]?_e[Z].p(lt,X):(_e[Z]=Et(lt),_e[Z].c(),_e[Z].m(V,null))}for(;Z<_e.length;Z+=1)_e[Z].d(1);_e.length=Me.length}X&9&&me(V,e[0].target_db),X&9&&H.value!==e[0].target_table&&j(H,e[0].target_table),X&9&&me(U,e[0].sync_type),X&9&&ae!==(ae=e[0].sync_type!=="incremental")&&(ne.disabled=ae),X&9&&ne.value!==e[0].incremental_key&&j(ne,e[0].incremental_key),X&9&&ge.value!==e[0].cron_expression&&j(ge,e[0].cron_expression),X&9&&j(he,e[0].field_mapping_json),X&9&&me(de,e[0].status),X&4&&we!==(we=e[2]?"ä¿å­˜ä¿®æ”¹":"åˆ›å»ºä»»åŠ¡")&&R(Ye,we)},d(te){te&&le(t),nt(fe,te),nt(_e,te),qe=!1,be(Ze)}}}function Nt(e){let t,l=e[17].name+"",a,s;return{c(){t=i("option"),a=w(l),t.__value=s=e[17].name,j(t,t.__value)},m(o,f){se(o,t,f),n(t,a)},p(o,f){f&8&&l!==(l=o[17].name+"")&&R(a,l),f&8&&s!==(s=o[17].name)&&(t.__value=s,j(t,t.__value))},d(o){o&&le(t)}}}function Et(e){let t,l=e[17].name+"",a,s;return{c(){t=i("option"),a=w(l),t.__value=s=e[17].name,j(t,t.__value)},m(o,f){se(o,t,f),n(t,a)},p(o,f){f&8&&l!==(l=o[17].name+"")&&R(a,l),f&8&&s!==(s=o[17].name)&&(t.__value=s,j(t,t.__value))},d(o){o&&le(t)}}}function kn(e){let t,l,a,s=e[1]&&St(e);return{c(){s&&s.c(),t=zt()},m(o,f){s&&s.m(o,f),se(o,t,f),l||(a=D(window,"keydown",e[6]),l=!0)},p(o,[f]){o[1]?s?s.p(o,f):(s=St(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i:re,o:re,d(o){o&&le(t),s&&s.d(o),l=!1,a()}}}function wn(e,t,l){let{open:a=!1}=t,{editing:s=!1}=t,{form:o={}}=t,{connections:f=[]}=t,{onClose:d=()=>{}}=t,{onSave:b=()=>{}}=t;const c=T=>T.key==="Escape"&&a&&d();function h(){o.name=this.value,l(0,o),l(3,f)}function p(){o.source_db=Be(this),l(0,o),l(3,f)}function S(){o.source_table=this.value,l(0,o),l(3,f)}function v(){o.target_db=Be(this),l(0,o),l(3,f)}function P(){o.target_table=this.value,l(0,o),l(3,f)}function r(){o.sync_type=Be(this),l(0,o),l(3,f)}function u(){o.incremental_key=this.value,l(0,o),l(3,f)}function y(){o.cron_expression=this.value,l(0,o),l(3,f)}function N(){o.field_mapping_json=this.value,l(0,o),l(3,f)}function B(){o.status=Be(this),l(0,o),l(3,f)}return e.$$set=T=>{"open"in T&&l(1,a=T.open),"editing"in T&&l(2,s=T.editing),"form"in T&&l(0,o=T.form),"connections"in T&&l(3,f=T.connections),"onClose"in T&&l(4,d=T.onClose),"onSave"in T&&l(5,b=T.onSave)},[o,a,s,f,d,b,c,h,p,S,v,P,r,u,y,N,B]}class Tn extends He{constructor(t){super(),Ae(this,t,wn,kn,Fe,{open:1,editing:2,form:0,connections:3,onClose:4,onSave:5})}}function Mt(e){let t,l;return{c(){t=i("div"),l=w(e[0]),_(t,"class","alert error")},m(a,s){se(a,t,s),n(t,l)},p(a,s){s[0]&1&&R(l,a[0])},d(a){a&&le(t)}}}function Lt(e){let t,l;return{c(){t=i("div"),l=w(e[1]),_(t,"class","alert info")},m(a,s){se(a,t,s),n(t,l)},p(a,s){s[0]&2&&R(l,a[1])},d(a){a&&le(t)}}}function Cn(e){let t,l;return t=new mn({props:{tasks:e[12],logTaskId:En,logs:e[17],logPage:e[18],logPageSize:Mn,logTotal:e[19],onChangeTask:e[36],onPrev:e[50],onNext:e[51]}}),{c(){Ue(t.$$.fragment)},m(a,s){De(t,a,s),l=!0},p(a,s){const o={};s[0]&4096&&(o.tasks=a[12]),s[0]&131072&&(o.logs=a[17]),s[0]&262144&&(o.logPage=a[18]),s[0]&524288&&(o.logTotal=a[19]),s[0]&262144&&(o.onPrev=a[50]),s[0]&262144&&(o.onNext=a[51]),t.$set(o)},i(a){l||(Ce(t.$$.fragment,a),l=!0)},o(a){Le(t.$$.fragment,a),l=!1},d(a){je(t,a)}}}function Pn(e){let t,l;return t=new dn({props:{tasks:e[12],taskPage:e[13],taskPageSize:Ft,taskTotal:e[14],onPrev:e[44],onNext:e[45],onOpenNew:e[46],onEdit:e[47],onExecute:e[48],onDelete:e[49]}}),{c(){Ue(t.$$.fragment)},m(a,s){De(t,a,s),l=!0},p(a,s){const o={};s[0]&4096&&(o.tasks=a[12]),s[0]&8192&&(o.taskPage=a[13]),s[0]&16384&&(o.taskTotal=a[14]),s[0]&8192&&(o.onPrev=a[44]),s[0]&8192&&(o.onNext=a[45]),t.$set(o)},i(a){l||(Ce(t.$$.fragment,a),l=!0)},o(a){Le(t.$$.fragment,a),l=!1},d(a){je(t,a)}}}function yn(e){let t,l;return t=new rn({props:{connections:e[7],connectionPage:e[8],connectionPageSize:jt,connectionTotal:e[9],onPrev:e[38],onNext:e[39],onOpenNew:e[40],onEdit:e[41],onTest:e[42],onDelete:e[43]}}),{c(){Ue(t.$$.fragment)},m(a,s){De(t,a,s),l=!0},p(a,s){const o={};s[0]&128&&(o.connections=a[7]),s[0]&256&&(o.connectionPage=a[8]),s[0]&512&&(o.connectionTotal=a[9]),s[0]&256&&(o.onPrev=a[38]),s[0]&256&&(o.onNext=a[39]),t.$set(o)},i(a){l||(Ce(t.$$.fragment,a),l=!0)},o(a){Le(t.$$.fragment,a),l=!1},d(a){je(t,a)}}}function Sn(e){let t,l;return t=new an({props:{loginForm:e[20],onLogin:e[22]}}),{c(){Ue(t.$$.fragment)},m(a,s){De(t,a,s),l=!0},p:re,i(a){l||(Ce(t.$$.fragment,a),l=!0)},o(a){Le(t.$$.fragment,a),l=!1},d(a){je(t,a)}}}function Nn(e){let t,l,a,s,o,f,d,b,c,h,p,S,v,P,r;l=new en({props:{token:e[2],view:e[3],setView:e[37],connectionTotal:e[9],taskTotal:e[14],logTotal:e[19],sidebarCollapsed:e[4],toggleSidebar:e[21],logout:e[23]}}),o=new ln({props:{view:e[3],token:e[2]}});let u=e[0]&&Mt(e),y=e[1]&&Lt(e);const N=[Sn,yn,Pn,Cn],B=[];function T(m,C){return m[3]==="login"?0:m[3]==="connections"?1:m[3]==="tasks"?2:m[3]==="logs"?3:-1}return~(c=T(e))&&(h=B[c]=N[c](e)),S=new vn({props:{open:e[5],editing:!!e[10],form:e[11],onClose:e[25],onSave:e[27]}}),P=new Tn({props:{open:e[6],editing:!!e[15],form:e[16],connections:e[7],onClose:e[31],onSave:e[33]}}),{c(){t=i("div"),Ue(l.$$.fragment),a=g(),s=i("main"),Ue(o.$$.fragment),f=g(),u&&u.c(),d=g(),y&&y.c(),b=g(),h&&h.c(),p=g(),Ue(S.$$.fragment),v=g(),Ue(P.$$.fragment),_(s,"class","content"),_(t,"class","layout")},m(m,C){se(m,t,C),De(l,t,null),n(t,a),n(t,s),De(o,s,null),n(s,f),u&&u.m(s,null),n(s,d),y&&y.m(s,null),n(s,b),~c&&B[c].m(s,null),n(s,p),De(S,s,null),n(s,v),De(P,s,null),r=!0},p(m,C){const I={};C[0]&4&&(I.token=m[2]),C[0]&8&&(I.view=m[3]),C[0]&8&&(I.setView=m[37]),C[0]&512&&(I.connectionTotal=m[9]),C[0]&16384&&(I.taskTotal=m[14]),C[0]&524288&&(I.logTotal=m[19]),C[0]&16&&(I.sidebarCollapsed=m[4]),l.$set(I);const q={};C[0]&8&&(q.view=m[3]),C[0]&4&&(q.token=m[2]),o.$set(q),m[0]?u?u.p(m,C):(u=Mt(m),u.c(),u.m(s,d)):u&&(u.d(1),u=null),m[1]?y?y.p(m,C):(y=Lt(m),y.c(),y.m(s,b)):y&&(y.d(1),y=null);let L=c;c=T(m),c===L?~c&&B[c].p(m,C):(h&&(Gt(),Le(B[L],1,1,()=>{B[L]=null}),Kt()),~c?(h=B[c],h?h.p(m,C):(h=B[c]=N[c](m),h.c()),Ce(h,1),h.m(s,p)):h=null);const J={};C[0]&32&&(J.open=m[5]),C[0]&1024&&(J.editing=!!m[10]),C[0]&2048&&(J.form=m[11]),S.$set(J);const O={};C[0]&64&&(O.open=m[6]),C[0]&32768&&(O.editing=!!m[15]),C[0]&65536&&(O.form=m[16]),C[0]&128&&(O.connections=m[7]),P.$set(O)},i(m){r||(Ce(l.$$.fragment,m),Ce(o.$$.fragment,m),Ce(h),Ce(S.$$.fragment,m),Ce(P.$$.fragment,m),r=!0)},o(m){Le(l.$$.fragment,m),Le(o.$$.fragment,m),Le(h),Le(S.$$.fragment,m),Le(P.$$.fragment,m),r=!1},d(m){m&&le(t),je(l),je(o),u&&u.d(),y&&y.d(),~c&&B[c].d(),je(S),je(P)}}}let jt=10,Ft=10,En="",Mn=10;function Ln(e,t,l){let a="",s="",o=localStorage.getItem("token")||"",f=o?"connections":"login",d=!1,b=!1,c=!1,h=!1,p={username:"",password:""},S=[],v=1,P=0,r=null,u={name:"",type:"mysql",host:"",port:3306,database:"",username:"",password:"",charset:"utf8mb4",max_idle:10,max_open:100,status:1},y=[],N=1,B=0,T=null,m={name:"",source_db:"",source_table:"",target_db:"",target_table:"",sync_type:"full",incremental_key:"",cron_expression:"",field_mapping_json:"{}",status:1},C=[],I=1,q=0;function L(){b||l(4,d=window.innerWidth<1100),window.innerWidth>=1100&&(b=!1)}function J(){l(4,d=!d),b=!0}Ut(()=>{o&&(F(),K()),L(),window.addEventListener("resize",L)}),Bt(()=>{window.removeEventListener("resize",L)});function O(k,ee){l(0,a=ee==="error"?k:""),l(1,s=ee==="info"?k:"")}async function W(){try{O("","info");const k=await Te("/api/auth/login",{method:"POST",body:p});l(2,o=k.token),localStorage.setItem("token",o),l(3,f="connections"),await F(),await K()}catch(k){O(k.message,"error")}}function x(){l(2,o=""),localStorage.removeItem("token"),l(3,f="login"),l(7,S=[]),l(12,y=[]),l(17,C=[])}function G(){l(10,r=null),l(11,u={name:"",type:"mysql",host:"",port:3306,database:"",username:"",password:"",charset:"utf8mb4",max_idle:10,max_open:100,status:1})}function V(k,ee){k==="new"?G():ee&&M(ee),l(5,c=!0)}function Q(){l(5,c=!1),G()}async function F(){try{const k=await Te("/api/db/connections",{token:o,params:{page:v,page_size:jt}});l(7,S=k.data),l(9,P=k.total)}catch(k){O(k.message,"error")}}function M(k){l(10,r=k.id),l(11,u={name:k.name,type:k.type,host:k.host,port:k.port,database:k.database,username:k.username,password:"",charset:k.charset||"utf8mb4",max_idle:k.max_idle||10,max_open:k.max_open||100,status:k.status})}async function A(){try{const k={name:u.name.trim(),type:u.type,host:u.host.trim(),port:Number(u.port),database:u.database.trim(),username:u.username.trim(),password:u.password,charset:(u.charset||"utf8mb4").trim(),max_idle:Number(u.max_idle)||10,max_open:Number(u.max_open)||100,status:Number(u.status)};r?(k.password||delete k.password,await Te(`/api/db/connections/${r}`,{method:"PUT",token:o,body:k}),O("è¿æ¥å·²æ›´æ–°","info")):(await Te("/api/db/connections",{method:"POST",token:o,body:k}),O("è¿æ¥å·²åˆ›å»º","info")),Q(),await F()}catch(k){O(k.message,"error")}}async function H(k){if(window.confirm(`ç¡®è®¤åˆ é™¤è¿æ¥ ${k.name} å—ï¼Ÿ`))try{await Te(`/api/db/connections/${k.id}`,{method:"DELETE",token:o}),O("è¿æ¥å·²åˆ é™¤","info"),await F()}catch(ce){O(ce.message,"error")}}async function E(k){try{await Te(`/api/db/connections/${k.id}/test`,{method:"POST",token:o}),O(`è¿æ¥ ${k.name} æµ‹è¯•æˆåŠŸ`,"info")}catch(ee){O(ee.message,"error")}}function Y(){l(15,T=null),l(16,m={name:"",source_db:"",source_table:"",target_db:"",target_table:"",sync_type:"full",incremental_key:"",cron_expression:"",field_mapping_json:"{}",status:1})}function $(k,ee){k==="new"?Y():ee&&z(ee),l(6,h=!0)}function U(){l(6,h=!1),Y()}async function K(){try{const k=await Te("/api/sync/tasks",{token:o,params:{page:N,page_size:Ft}});l(12,y=k.data),l(14,B=k.total)}catch(k){O(k.message,"error")}}function z(k){l(15,T=k.id),l(16,m={name:k.name,source_db:k.source_db,source_table:k.source_table,target_db:k.target_db,target_table:k.target_table,sync_type:k.sync_type,incremental_key:k.incremental_key||"",cron_expression:k.cron_expression||"",field_mapping_json:JSON.stringify(k.field_mapping||{},null,2),status:k.status})}async function ue(){try{let k={};const ee=m.field_mapping_json.trim();ee&&(k=JSON.parse(ee));const ce={name:m.name.trim(),source_db:m.source_db.trim(),source_table:m.source_table.trim(),target_db:m.target_db.trim(),target_table:m.target_table.trim(),sync_type:m.sync_type,incremental_key:m.sync_type==="incremental"?m.incremental_key.trim():"",cron_expression:m.cron_expression.trim(),field_mapping:k,status:Number(m.status)};T?(await Te(`/api/sync/tasks/${T}`,{method:"PUT",token:o,body:ce}),O("ä»»åŠ¡å·²æ›´æ–°","info")):(await Te("/api/sync/tasks",{method:"POST",token:o,body:ce}),O("ä»»åŠ¡å·²åˆ›å»º","info")),U(),await K()}catch(k){O(k.message,"error")}}async function oe(k){if(window.confirm(`ç¡®è®¤åˆ é™¤ä»»åŠ¡ ${k.name} å—ï¼Ÿ`))try{await Te(`/api/sync/tasks/${k.id}`,{method:"DELETE",token:o}),O("ä»»åŠ¡å·²åˆ é™¤","info"),await K()}catch(ce){O(ce.message,"error")}}async function Pe(k){try{await Te(`/api/sync/tasks/${k.id}/execute`,{method:"POST",token:o}),O("ä»»åŠ¡å·²å¼€å§‹æ‰§è¡Œ","info"),await K()}catch(ee){O(ee.message,"error")}}async function ne(){{l(17,C=[]),l(19,q=0);return}}return[a,s,o,f,d,c,h,S,v,P,r,u,y,N,B,T,m,C,I,q,p,J,W,x,V,Q,F,A,H,E,$,U,K,ue,oe,Pe,ne,k=>l(3,f=k),()=>{l(8,v-=1),F()},()=>{l(8,v+=1),F()},()=>V("new"),k=>V("edit",k),k=>E(k),k=>H(k),()=>{l(13,N-=1),K()},()=>{l(13,N+=1),K()},()=>$("new"),k=>$("edit",k),k=>Pe(k),k=>oe(k),()=>{l(18,I-=1),ne()},()=>{l(18,I+=1),ne()}]}class On extends He{constructor(t){super(),Ae(this,t,Ln,Nn,Fe,{},null,[-1,-1])}}new On({target:document.getElementById("app")});
